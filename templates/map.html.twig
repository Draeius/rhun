
<div style="width:100%;">
    <img id="rhun_map_image" src="{{asset('images/rhun_map.jpg')}}" style="width: 100%;" usemap="#rhunmap" border="0" width="100%" />

    {% if uuid is defined and uuid != '1' %}
        <map id="rhun_map" name="rhunmap">
            <area shape="rect" coords="600,430,690,480" href="{{path('world', {'uuid': uuid, 'locationId': '2' })}}" > <!-- Seiya -->
            <area shape="rect" coords="900,200,960,260" href="{{path('world', {'uuid': uuid, 'locationId': '5' })}}" > <!-- Pyra -->
            <area shape="rect" coords="1200,320,1300,470" href="{{path('world', {'uuid': uuid, 'locationId': '6' })}}" > <!-- Lerentia -->
            <area shape="circle" coords="230,540,80" href="{{path('world', {'uuid': uuid, 'locationId': '4' })}}" > <!-- Manosse -->
            <area shape="circle" coords="970,780,50" href="{{path('world', {'uuid': uuid, 'locationId': '3' })}}" > <!-- Nelaris -->
        </map>
    {% endif %}
</div>

<script>
    window.onload = function () {
        var ImageMap = function (map, img) {
            var n,
                    areas = map.getElementsByTagName('area'),
                    len = areas.length,
                    coords = [],
                    previousWidth = 1500;
            for (n = 0; n < len; n++) {
                coords[n] = areas[n].coords.split(',');
            }
            this.resize = function () {
                var n, m, clen,
                        x = img.offsetWidth / previousWidth;
                console.log(x);
                console.log(img.offsetWidth);
                console.log(previousWidth);
                for (n = 0; n < len; n++) {
                    clen = coords[n].length;
                    for (m = 0; m < clen; m++) {
                        coords[n][m] *= x;
                    }
                    areas[n].coords = coords[n].join(',');
                }
                previousWidth = img.offsetWidth;
                return true;
            };
            window.onresize = this.resize;
        },
                imageMap = new ImageMap(document.getElementById('rhun_map'), document.getElementById('rhun_map_image'));
        imageMap.resize();
        return;
    };
</script>